<div class="main-container">
  <!-- <app-sidebar (sidenavToggle)="onSidenavToggle($event)" [class.slidebar]="sidenavOpen"></app-sidebar> -->

  <div class="content">
    <div class="card1" [class.full-width]="!sidenavOpen">

      <!-- Title: Dynamic Heading -->
      <div class="title" style="margin-bottom: 2rem;">
        <h2>{{ showNewForm ? 'Assign Schedule' : 'Add Device' }}</h2>
      </div>

      <!-- First Form: Scheduling -->
      <div class="form-container" *ngIf="!showNewForm">
        <form #schedulingForm="ngForm" class="Employee-info-id" (ngSubmit)="onSubmit()">
          
          <!-- Device IP -->
          <div class="form-group">
            <input id="deviceIp" name="deviceIp" type="text" [(ngModel)]="deviceIp" 
              placeholder="Device IP Address" required pattern="^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$"
              #deviceIpRef="ngModel" />
            <div *ngIf="deviceIpRef.invalid && deviceIpRef.touched" class="error">
              <small *ngIf="deviceIpRef.errors?.['required']">Device IP is required.</small>
              <small *ngIf="deviceIpRef.errors?.['pattern']">Enter a valid IP address.</small>
            </div>
          </div>

          <!-- Username -->
          <div class="form-group">
            <input id="username" name="username" type="text" [(ngModel)]="username" placeholder="Username" 
              required minlength="3" #usernameRef="ngModel"/>
            <div *ngIf="usernameRef.invalid && usernameRef.touched" class="error">
              <small *ngIf="usernameRef.errors?.['required']">Username is required.</small>
              <small *ngIf="usernameRef.errors?.['minlength']">Minimum 3 characters required.</small>
            </div>
          </div>

          <!-- Password -->
          <div class="form-group">
            <input id="password" name="password" type="password" [(ngModel)]="password" placeholder="Password"
              required minlength="6" #passwordRef="ngModel" />
            <div *ngIf="passwordRef.invalid && passwordRef.touched" class="error">
              <small *ngIf="passwordRef.errors?.['required']">Password is required.</small>
              <small *ngIf="passwordRef.errors?.['minlength']">Password must be at least 6 characters long.</small>
            </div>
          </div>

          <!-- Device Purpose: Checkbox for Door 1 & Door 2 -->
      <!-- Device Purpose: Circular Checkboxes for Door 1 & Door 2 -->
      <div class="form-group">
        <label><strong>Device Purpose:</strong></label>
        <div class="checkbox-container">
          <label class="custom-checkbox">
            <input
              class="checkbox"
              type="checkbox"
              [(ngModel)]="door1"
              name="door1"
              (change)="onCheckboxChange('door1')"
            />
            <span>Door 1</span>
          </label>
      
          <label class="custom-checkbox">
            <input
              class="checkbox"
              type="checkbox"
              [(ngModel)]="door2"
              name="door2"
              (change)="onCheckboxChange('door2')"
            />
            <span>Door 2</span>
          </label>
        </div>
      </div>
      

          <button style="background-color: black;" class="searchbtn" type="submit" [disabled]="schedulingForm.invalid">
            Submit
          </button>
        </form>
      </div>

    </div>
  </div>
</div>
